// ÂõΩÈôÖÂåñÈÖçÁΩÆ
export const translations = {
  zh: {
    // ÈÄöÁî®
    loading: 'Âä†ËΩΩ‰∏≠...',
    submit: 'Êèê‰∫§',
    cancel: 'ÂèñÊ∂à',
    confirm: 'Á°ÆËÆ§',
    back: 'ËøîÂõû',
    refresh: 'Âà∑Êñ∞',
    download: '‰∏ãËΩΩ',
    upload: '‰∏ä‰º†',
    success: 'ÊàêÂäü',
    error: 'ÈîôËØØ',
    warning: 'Ë≠¶Âëä',
    
    // ÂØºËà™
    dataInput: 'Êï∞ÊçÆËæìÂÖ•',
    analysisResults: 'ÂàÜÊûêÁªìÊûú',
    platformTitle: 'üçΩÔ∏è È§êÈ•ÆÂàÜÊûêÂπ≥Âè∞',
    
    // Êï∞ÊçÆËæìÂÖ•È°µÈù¢
    monthlyDataInput: 'ÊúàÂ∫¶Êï∞ÊçÆËæìÂÖ•',
    inputDescription: 'ËØ∑ËæìÂÖ•12‰∏™ÊúàÁöÑÁªèËê•Êï∞ÊçÆÔºàÂçï‰ΩçÔºö‰∏áÂÖÉÔºâ',
    originalFood: 'ÂéüÂßãÈ£üÂìÅ',
    organicFood: 'ÊúâÊú∫È£üÂìÅ',
    revenue: 'Ëê•‰∏öÈ¢ù',
    cost: 'ÊàêÊú¨',
    profit: 'Âà©Ê∂¶',
    month: 'Êúà',
    submitDataAndAnalyze: 'Êèê‰∫§Êï∞ÊçÆÂπ∂ÂàÜÊûê',
    dataValidationPassed: 'Êï∞ÊçÆÈ™åËØÅÈÄöËøá',
    dataValidationFailed: 'Êï∞ÊçÆÈ™åËØÅÂ§±Ë¥•',
    dataSubmittedSuccessfully: 'Êï∞ÊçÆÊèê‰∫§ÊàêÂäüÔºÅÊ≠£Âú®Ë∑≥ËΩ¨Âà∞ÂàÜÊûêÈ°µÈù¢...',
    dataSubmissionFailed: 'Êï∞ÊçÆÊèê‰∫§Â§±Ë¥•',
    pleaseEnterValidNumber: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊ≠£Êï∞',
    pleaseEnterValue: 'ËØ∑ËæìÂÖ•Êï∞ÂÄº',
    monthLabel: 'Êúà',
    
    // ExcelÂäüËÉΩ
    importExcel: 'ÂØºÂÖ•Excel',
    exportExcel: 'ÂØºÂá∫Excel',
    downloadTemplate: '‰∏ãËΩΩÁ©∫ÁôΩÊ®°Êùø',
    downloadTemplateTooltip: '‰∏ãËΩΩExcelÂØºÂÖ•Ê®°ÊùøÔºàÁ©∫ÁôΩÊ®°ÊùøÔºâ',
    excelFormatDescription: 'üìã ExcelÊ†ºÂºèËØ¥ÊòéÔºö',
    excelFormatRules: [
      'Á¨¨‰∏ÄË°å‰∏∫Ê†áÈ¢òË°åÔºàÊúà‰ªΩ„ÄÅÂéüÂßãÈ£üÂìÅËê•‰∏öÈ¢ù„ÄÅÂéüÂßãÈ£üÂìÅÊàêÊú¨Á≠âÔºâ',
      'Á¨¨2-13Ë°å‰∏∫1-12ÊúàÁöÑÊï∞ÊçÆÔºàÁ©∫ÁôΩÊ®°ÊùøÂ∑≤È¢ÑÁΩÆÊúà‰ªΩÔºâ',
      'ÊâÄÊúâÊï∞ÂÄºÂøÖÈ°ª‰∏∫ÈùûË¥üÊï∞',
      'ÊîØÊåÅ.xlsxÂíå.xlsÊ†ºÂºè',
      '‰∏ãËΩΩÁöÑÊ®°Êùø‰∏∫Á©∫ÁôΩÊ®°ÊùøÔºå‰∏çÂåÖÂê´Á§∫‰æãÊï∞ÊçÆ'
    ],
    templateGeneratedSuccessfully: 'ExcelÊ®°ÊùøÊñá‰ª∂ÁîüÊàêÊàêÂäüÔºÅ',
    dataImportedSuccessfully: 'Êï∞ÊçÆÂØºÂÖ•ÊàêÂäüÔºÅ',
    dataImportFailed: 'Êï∞ÊçÆÂØºÂÖ•Â§±Ë¥•',
    
    // ÂàÜÊûêÈ°µÈù¢
    restaurantAnnualAnalysis: 'È§êÈ•ÆÂπ¥Â∫¶Êï∞ÊçÆÂàÜÊûê',
    comprehensiveBusinessAnalysis: 'ÁªºÂêàÂïÜ‰∏öÂàÜÊûêÊä•Âëä',
    annualSummary: 'Âπ¥Â∫¶Ê±áÊÄª',
    comparisonAnalysis: 'ÂØπÊØîÂàÜÊûê',
    originalFoodTotal: 'ÂéüÂßãÈ£üÂìÅÊÄªËÆ°',
    organicFoodTotal: 'ÊúâÊú∫È£üÂìÅÊÄªËÆ°',
    totalRevenue: 'ÊÄªËê•‰∏öÈ¢ù',
    totalCost: 'ÊÄªÊàêÊú¨',
    totalProfit: 'ÊÄªÂà©Ê∂¶',
    growthRate: 'Â¢ûÈïøÁéá',
    costRatio: 'ÊàêÊú¨Áéá',
    profitMargin: 'Âà©Ê∂¶Áéá',
    absoluteDifference: 'ÁªùÂØπÂ∑ÆÂÄº',
    percentage: 'ÁôæÂàÜÊØî',
    millionYuan: '‰∏áÂÖÉ',
    vsLastYear: 'ÂêåÊØî',
    
    // ÂõæË°®Ê†áÈ¢ò
    monthlyRevenueComparison: 'ÊúàÂ∫¶Êî∂ÂÖ•ÂØπÊØî',
    annualDataComparison: 'Âπ¥Â∫¶Êï∞ÊçÆÂØπÊØî',
    profitTrendAnalysis: 'Âà©Ê∂¶Ë∂ãÂäøÂàÜÊûê',
    profitAnalysis: 'Âà©Ê∂¶ÂàÜÊûê',
    costStructureAnalysis: 'ÊàêÊú¨ÁªìÊûÑÂàÜÊûê',
    seasonalPatternAnalysis: 'Â≠£ËäÇÊÄßÊ®°ÂºèÂàÜÊûê',
    profitMarginTrendAnalysis: 'ÁõàÂà©ËÉΩÂäõÊ†∏ÂøÉÊåáÊ†á',
    costStructureChange: 'ËøêËê•ÊïàÁéáÂàÜÊûê',
    cashFlowAnalysis: 'Ë¥¢Âä°ÂÅ•Â∫∑Áä∂ÂÜµ',
    seasonalAnalysisChart: 'Â≠£ËäÇÊÄßÂàÜÊûê‰∏éË∂ãÂäøÈ¢ÑÊµã',
    revenueTrendAnalysis: 'Êî∂ÂÖ•Ë∂ãÂäøÂàÜÊûê',
    revenueTrendAndSeasonality: 'Êî∂ÂÖ•Ë∂ãÂäø‰∏éÂ≠£ËäÇÊÄß',
    seasonalIndex: 'Â≠£ËäÇÊÄßÊåáÊï∞',
    trendLine: 'Ë∂ãÂäøÁ∫ø',

    // Â≠£ËäÇÊÄßÂàÜÊûê
    peakSeason: 'Êó∫Â≠£',
    offSeason: 'Ê∑°Â≠£',
    seasonalStrength: 'Â≠£ËäÇÊÄßÂº∫Â∫¶',
    seasonalPattern: 'Â≠£ËäÇÊÄßÊ®°Âºè',
    seasonalAnalysisResults: 'Â≠£ËäÇÊÄßÂàÜÊûêÁªìÊûú',
    
    // ÁªüËÆ°‰ø°ÊÅØ
    average: 'Âπ≥ÂùáÂÄº',
    maximum: 'ÊúÄÂ§ßÂÄº',
    minimum: 'ÊúÄÂ∞èÂÄº',
    revenueStatistics: 'Êî∂ÂÖ•ÁªüËÆ°',
    profitStatistics: 'Âà©Ê∂¶ÁªüËÆ°',
    costStatistics: 'ÊàêÊú¨ÁªüËÆ°',
    
    // AIÂª∫ËÆÆ
    aiAdvice: 'AIÊô∫ËÉΩÂª∫ËÆÆ',
    getAiAdvice: 'Ëé∑ÂèñAIÂª∫ËÆÆ',
    regenerateAdvice: 'ÈáçÊñ∞ÁîüÊàêÂª∫ËÆÆ',
    aiAnalysisCompleted: 'AIÂàÜÊûêÂÆåÊàêÔºÅ',
    aiAnalysisFailed: 'AIÂàÜÊûêÂ§±Ë¥•',
    aiAdviceGenerated: 'AIÂª∫ËÆÆÁîüÊàêÊàêÂäü',
    aiAdviceFailed: 'AIÂª∫ËÆÆÁîüÊàêÂ§±Ë¥•',
    noDataForAI: 'Ê≤°ÊúâÊï∞ÊçÆÂèØ‰æõAIÂàÜÊûê',
    mockAdvice: 'Âü∫‰∫éÊÇ®ÁöÑÊï∞ÊçÆÂàÜÊûêÔºåÊàë‰ª¨Êèê‰æõ‰ª•‰∏ãÂª∫ËÆÆÔºö',
    
    // ‰øùÊä§È°µÈù¢
    noAnalysisData: 'ËøòÊ≤°ÊúâÂàÜÊûêÊï∞ÊçÆÔºåËØ∑ÂÖàËæìÂÖ•ÊÇ®ÁöÑÁªèËê•Êï∞ÊçÆ',
    pleaseInputDataFirst: 'ËØ∑ÂÖàËæìÂÖ•Êï∞ÊçÆ',
    goToDataInput: 'ÂâçÂæÄÊï∞ÊçÆËæìÂÖ•',
    loadDataFailed: 'Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•',
    usageSteps: 'üéØ ‰ΩøÁî®Ê≠•È™§',
    usageStepsList: [
      'ÁÇπÂáª‰∏ãÊñπÊåâÈíÆËøõÂÖ•Êï∞ÊçÆËæìÂÖ•È°µÈù¢',
      'ËæìÂÖ•12‰∏™ÊúàÁöÑÁªèËê•Êï∞ÊçÆÔºàËê•‰∏öÈ¢ù„ÄÅÊàêÊú¨„ÄÅÂà©Ê∂¶Ôºâ',
      'ÊîØÊåÅÂéüÂßãÈ£üÂìÅÂíåÊúâÊú∫È£üÂìÅ‰∏§ÁßçÁ±ªÂûã',
      'ÂèØ‰ª•ÊâãÂä®ËæìÂÖ•ÊàñÂØºÂÖ•ExcelÊñá‰ª∂',
      'Êèê‰∫§Êï∞ÊçÆÂêéÊü•ÁúãÂàÜÊûêÁªìÊûú'
    ],
    startInputData: 'ÂºÄÂßãËæìÂÖ•Êï∞ÊçÆ',
    refreshPage: 'Âà∑Êñ∞È°µÈù¢',
    
    // ÈîôËØØÊ∂àÊÅØ
    dataLoadingFailed: 'Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçÊñ∞Êèê‰∫§Êï∞ÊçÆ',
    
    // Êúà‰ªΩÂêçÁß∞
    months: [
      '1Êúà', '2Êúà', '3Êúà', '4Êúà', '5Êúà', '6Êúà',
      '7Êúà', '8Êúà', '9Êúà', '10Êúà', '11Êúà', '12Êúà'
    ],
    
    // Êï∞Â≠óÊ†ºÂºèÂåñ
    formatNumber: (num) => {
      const number = parseFloat(num);
      if (isNaN(number)) {
        return '0.0';
      }
      if (number >= 10000) {
        return (number / 10000).toFixed(1) + '‰∏á';
      }
      return number.toFixed(1);
    },
    
    // Êï∞Â≠óÊ†ºÂºèÂåñÔºàËøîÂõûÊï∞Â≠óÔºåÁî®‰∫éÂõæË°®Ôºâ
    formatNumberForChart: (num) => {
      const number = parseFloat(num);
      if (isNaN(number)) {
        return 0;
      }
      return number;
    }
  },
  
  en: {
    // Common
    loading: 'Loading...',
    submit: 'Submit',
    cancel: 'Cancel',
    confirm: 'Confirm',
    back: 'Back',
    refresh: 'Refresh',
    download: 'Download',
    upload: 'Upload',
    success: 'Success',
    error: 'Error',
    warning: 'Warning',
    
    // Navigation
    dataInput: 'Data Input',
    analysisResults: 'Analysis Results',
    platformTitle: 'üçΩÔ∏è Restaurant Analytics Platform',
    
    // Data Input Page
    monthlyDataInput: 'Monthly Data Input',
    inputDescription: 'Please enter 12 months of business data (unit: 10K CNY)',
    originalFood: 'Original Food',
    organicFood: 'Organic Food',
    revenue: 'Revenue',
    cost: 'Cost',
    profit: 'Profit',
    month: 'Month',
    submitDataAndAnalyze: 'Submit Data & Analyze',
    dataValidationPassed: 'Data validation passed',
    dataValidationFailed: 'Data validation failed',
    dataSubmittedSuccessfully: 'Data submitted successfully! Redirecting to analysis page...',
    dataSubmissionFailed: 'Data submission failed',
    pleaseEnterValidNumber: 'Please enter a valid positive number',
    pleaseEnterValue: 'Please enter a value',
    monthLabel: 'Month',
    
    // Excel Features
    importExcel: 'Import Excel',
    exportExcel: 'Export Excel',
    downloadTemplate: 'Download Template',
    downloadTemplateTooltip: 'Download Excel import template (blank template)',
    excelFormatDescription: 'üìã Excel Format Instructions:',
    excelFormatRules: [
      'First row contains headers (Month, Original Food Revenue, Original Food Cost, etc.)',
      'Rows 2-13 contain data for months 1-12 (blank template has pre-filled months)',
      'All values must be non-negative numbers',
      'Supports .xlsx and .xls formats',
      'Downloaded template is blank, no sample data included'
    ],
    templateGeneratedSuccessfully: 'Excel template generated successfully!',
    dataImportedSuccessfully: 'Data imported successfully!',
    dataImportFailed: 'Data import failed',
    
    // Analysis Page
    restaurantAnnualAnalysis: 'Restaurant Annual Data Analysis',
    comprehensiveBusinessAnalysis: 'Comprehensive Business Analysis Report',
    annualSummary: 'Annual Summary',
    comparisonAnalysis: 'Comparison Analysis',
    originalFoodTotal: 'Original Food Total',
    organicFoodTotal: 'Organic Food Total',
    totalRevenue: 'Total Revenue',
    totalCost: 'Total Cost',
    totalProfit: 'Total Profit',
    growthRate: 'Growth Rate',
    costRatio: 'Cost Ratio',
    profitMargin: 'Profit Margin',
    absoluteDifference: 'Absolute Difference',
    percentage: 'Percentage',
    millionYuan: '10K CNY',
    vsLastYear: 'vs Last Year',
    
    // Chart Titles
    monthlyRevenueComparison: 'Monthly Revenue Comparison',
    annualDataComparison: 'Annual Data Comparison',
    profitTrendAnalysis: 'Profit Trend Analysis',
    profitAnalysis: 'Profit Analysis',
    costStructureAnalysis: 'Cost Structure Analysis',
    seasonalPatternAnalysis: 'Seasonal Pattern Analysis',
    profitMarginTrendAnalysis: 'Profitability Core Indicators',
    costStructureChange: 'Operational Efficiency Analysis',
    cashFlowAnalysis: 'Financial Health Status',
    seasonalAnalysisChart: 'Seasonal Analysis & Trend Prediction',
    revenueTrendAnalysis: 'Revenue Trend Analysis',
    revenueTrendAndSeasonality: 'Revenue Trend & Seasonality',
    seasonalIndex: 'Seasonal Index',
    trendLine: 'Trend Line',

    // Seasonal Analysis
    peakSeason: 'Peak Season',
    offSeason: 'Off Season',
    seasonalStrength: 'Seasonal Strength',
    seasonalPattern: 'Seasonal Pattern',
    seasonalAnalysisResults: 'Seasonal Analysis Results',
    
    // Statistics
    average: 'Average',
    maximum: 'Maximum',
    minimum: 'Minimum',
    revenueStatistics: 'Revenue Statistics',
    profitStatistics: 'Profit Statistics',
    costStatistics: 'Cost Statistics',
    
    // AI Advice
    aiAdvice: 'AI Intelligent Advice',
    getAiAdvice: 'Get AI Advice',
    regenerateAdvice: 'Regenerate Advice',
    aiAnalysisCompleted: 'AI analysis completed!',
    aiAnalysisFailed: 'AI analysis failed',
    aiAdviceGenerated: 'AI advice generated successfully',
    aiAdviceFailed: 'AI advice generation failed',
    noDataForAI: 'No data available for AI analysis',
    mockAdvice: 'Based on your data analysis, we provide the following recommendations:',
    
    // Protection Page
    noAnalysisData: 'No analysis data available. Please input your business data first.',
    pleaseInputDataFirst: 'Please input data first',
    goToDataInput: 'Go to Data Input',
    loadDataFailed: 'Data loading failed',
    usageSteps: 'üéØ Usage Steps',
    usageStepsList: [
      'Click the button below to enter the data input page',
      'Enter 12 months of business data (revenue, cost, profit)',
      'Supports both original food and organic food types',
      'You can input manually or import Excel files',
      'Submit data to view analysis results'
    ],
    startInputData: 'Start Input Data',
    refreshPage: 'Refresh Page',
    
    // Error Messages
    dataLoadingFailed: 'Data loading failed, please resubmit data',
    
    // Month Names
    months: [
      'January', 'February', 'March', 'April', 'May', 'June',
      'July', 'August', 'September', 'October', 'November', 'December'
    ],
    
    // Number formatting
    formatNumber: (num) => {
      const number = parseFloat(num);
      if (isNaN(number)) {
        return '0.0';
      }
      if (number >= 10000) {
        return (number / 10000).toFixed(1) + 'K';
      }
      return number.toFixed(1);
    },

    // Number formatting for charts (returns number)
    formatNumberForChart: (num) => {
      const number = parseFloat(num);
      if (isNaN(number)) {
        return 0;
      }
      return number;
    }
  }
};

// ËÆæÁΩÆËØ≠Ë®Ä
export const setLanguage = (language) => {
  localStorage.setItem('language', language);
  window.location.reload(); // ÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢‰ª•Â∫îÁî®Êñ∞ËØ≠Ë®Ä
};

// Ëé∑ÂèñÂΩìÂâçËØ≠Ë®Ä
export const getCurrentLanguage = () => {
  return localStorage.getItem('language') || 'en';
};

// ÁøªËØëÂáΩÊï∞
export const t = (key, params = {}) => {
  const currentLang = getCurrentLanguage();
  const langData = translations[currentLang];
  
  // ÊîØÊåÅÂµåÂ•óÈîÆÔºåÂ¶Ç 'comparison.revenueGrowthRate'
  const keys = key.split('.');
  let value = langData;
  
  for (const k of keys) {
    if (value && typeof value === 'object' && k in value) {
      value = value[k];
    } else {
      console.warn(`Translation key not found: ${key} in ${currentLang}`);
      return key; // ËøîÂõûÈîÆÂêç‰Ωú‰∏∫ÂêéÂ§á
    }
  }
  
  // Â¶ÇÊûúÂÄºÊòØÂáΩÊï∞ÔºåË∞ÉÁî®ÂÆÉÂπ∂‰º†ÈÄíÂèÇÊï∞
  if (typeof value === 'function') {
    return value(params);
  }
  
  return value;
};
