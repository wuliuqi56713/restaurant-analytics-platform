# 餐饮分析平台启动说明

## 🚀 快速启动

### 1. 安装依赖
```bash
# 安装所有依赖（前端+后端）
npm run install-all
```

### 2. 环境配置
在 `server` 目录下创建 `.env` 文件：
```bash
cd server
cp env.example .env
```

编辑 `.env` 文件，填入您的OpenAI API密钥：
```
OPENAI_API_KEY=your_actual_openai_api_key_here
PORT=5000
```

### 3. 启动项目
```bash
# 同时启动前端和后端
npm start
```

或者分别启动：
```bash
# 启动后端服务器
npm run server

# 启动前端应用
npm run client
```

## 📱 访问地址
- **前端**: http://localhost:3000
- **后端**: http://localhost:5000
- **健康检查**: http://localhost:5000/api/health

## 🗄️ 数据库
- 数据库文件：`server/database/restaurant.db`
- 初始化脚本：`server/database/init.sql`
- 数据库类型：SQLite

## 🔧 开发模式
```bash
# 后端开发模式（自动重启）
cd server && npm run dev

# 前端开发模式（热重载）
cd client && npm start
```

## 📦 构建生产版本
```bash
# 构建前端
npm run build

# 构建后的文件在 client/build 目录
```

## 🚀 部署说明

### Render部署
1. 连接GitHub仓库
2. 构建命令：`npm run build`
3. 启动命令：`npm run server`
4. 环境变量：设置 `OPENAI_API_KEY`

### Vercel部署
1. 导入项目
2. 构建命令：`npm run build`
3. 输出目录：`client/build`
4. 安装命令：`npm run install-all`

## 🐛 常见问题

### 端口被占用
```bash
# 查看端口占用
lsof -i :5000
lsof -i :3000

# 杀死进程
kill -9 <PID>
```

### 依赖安装失败
```bash
# 清除缓存
npm cache clean --force

# 删除node_modules重新安装
rm -rf node_modules package-lock.json
npm install
```

### 数据库连接失败
```bash
# 检查数据库文件权限
ls -la server/database/

# 重新初始化数据库
cd server/database
sqlite3 restaurant.db < init.sql
```

## 📋 功能特性
- ✅ 月度数据输入（12个月）
- ✅ 自动计算年度汇总
- ✅ 多维度数据可视化
- ✅ AI驱动的战略建议
- ✅ 专业PDF报告导出
- ✅ 响应式设计
- ✅ 深蓝+金色主题

## 👨‍💻 技术支持
- 作者：Vincentxjm
- 技术栈：React + Node.js + SQLite + Chart.js
- 许可证：MIT

## 🔄 更新日志
- v1.0.0: 初始版本发布
- 支持原始食品vs有机食品对比分析
- 集成AI分析建议功能
- 专业PDF报告导出
