# 豆包API配置指南

## 📋 豆包API简介

豆包（DouBao）是字节跳动推出的免费AI服务，提供强大的自然语言处理能力。本系统已集成豆包API来提供智能分析建议。

## 🔑 获取豆包API密钥

### 1. 注册豆包账号
1. 访问 [豆包官网](https://www.doubao.com/)
2. 使用手机号或邮箱注册账号
3. 完成实名认证（如需要）

### 2. 获取API密钥
1. 登录豆包控制台
2. 进入"API管理"页面
3. 创建新的API密钥
4. 复制API密钥（格式：`db-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`）

## ⚙️ 配置步骤

### 1. 创建环境配置文件
```bash
# 在server目录下创建.env文件
cp env.example .env
```

### 2. 配置API密钥
编辑 `server/.env` 文件：
```env
# 豆包API密钥（用于AI分析功能）
DOUBAO_API_KEY=db-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# 服务器端口
PORT=5001

# 数据库配置
DB_PATH=./database/restaurant.db

# 其他配置
NODE_ENV=development
```

### 3. 重启服务器
```bash
# 停止当前服务器
# 重新启动
node server/index.js
```

## 🎯 功能特点

### ✅ 免费额度
- 豆包提供免费API调用额度
- 每日有足够的免费次数用于测试

### ✅ 中文优化
- 豆包对中文理解更准确
- 更适合餐饮行业分析

### ✅ 响应速度快
- 国内服务器，响应速度快
- 支持并发请求

## 🔧 API参数说明

### 模型选择
- **doubao-pro**: 推荐使用，功能最全面
- **doubao-lite**: 轻量级模型，响应更快

### 参数配置
- **max_tokens**: 1000（最大输出长度）
- **temperature**: 0.7（创造性，0-1之间）
- **timeout**: 30秒（请求超时时间）

## 🚨 注意事项

### 1. API密钥安全
- 不要将API密钥提交到代码仓库
- 定期更换API密钥
- 监控API使用量

### 2. 错误处理
- 系统已配置自动回退机制
- API调用失败时会使用模拟建议
- 查看服务器日志了解详细错误

### 3. 使用限制
- 遵守豆包API使用条款
- 不要过度频繁调用
- 合理使用免费额度

## 📞 技术支持

如果遇到问题：
1. 检查API密钥是否正确
2. 确认网络连接正常
3. 查看服务器错误日志
4. 参考豆包官方文档

## 🎉 开始使用

配置完成后，系统将自动使用豆包AI进行分析，提供更智能、更准确的餐饮经营建议！
